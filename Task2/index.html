<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Sokoban Multi</title>
    <link rel="stylesheet" href="frontPage.css" />
  </head>
  <body>
    <h1>Welcome to Sokoban Multi!</h1>
    <div id="auth-container">
      <form
        id="loginForm"
        class="auth-box"
        autocomplete="off"
        novalidate
        onsubmit="return false;"
      >
        <h2>Login</h2>
        <input
          type="text"
          style="
            position: absolute;
            left: -9999px;
            width: 1px;
            height: 1px;
            opacity: 0;
          "
          autocomplete="username"
          aria-hidden="true"
          tabindex="-1"
        />
        <input
          type="password"
          style="
            position: absolute;
            left: -9999px;
            width: 1px;
            height: 1px;
            opacity: 0;
          "
          autocomplete="current-password"
          aria-hidden="true"
          tabindex="-1"
        />
        <input
          type="text"
          id="loginUsername"
          name="nope-login-username"
          placeholder="Username"
          autocomplete="off"
          autocapitalize="none"
        />
        <input
          type="password"
          id="loginPassword"
          name="nope-login-password"
          placeholder="Password"
          autocomplete="new-password"
        />
        <div>
          <button class="btn" onclick="login()">Login</button>
          <button class="btn" onclick="logout()" style="margin-left: 8px">
            Logout
          </button>
        </div>
      </form>

      <form
        id="signupForm"
        class="auth-box"
        autocomplete="off"
        novalidate
        onsubmit="return false;"
      >
        <h2>Sign Up</h2>
        <input
          type="text"
          style="
            position: absolute;
            left: -9999px;
            width: 1px;
            height: 1px;
            opacity: 0;
          "
          autocomplete="username"
          aria-hidden="true"
          tabindex="-1"
        />
        <input
          type="password"
          style="
            position: absolute;
            left: -9999px;
            width: 1px;
            height: 1px;
            opacity: 0;
          "
          autocomplete="new-password"
          aria-hidden="true"
          tabindex="-1"
        />
        <input
          type="text"
          id="signupUsername"
          name="nope-signup-username"
          placeholder="Username"
          autocomplete="off"
          autocapitalize="none"
        />
        <input
          type="password"
          id="signupPassword"
          name="nope-signup-password"
          placeholder="Password"
          autocomplete="new-password"
        />
        <input
          type="email"
          id="signupEmail"
          name="nope-signup-email"
          placeholder="Email"
          autocomplete="off"
        />
        <input
          type="text"
          id="signupPhone"
          name="nope-signup-phone"
          placeholder="Phone Number"
          autocomplete="off"
        />
        <div>
          <button class="btn" onclick="register()">Sign Up</button>
        </div>
      </form>
    </div>

    <h2>Leaderboard</h2>
    <table id="leaderboard">
      <thead>
        <tr>
          <th>User</th>
          <th>Moves</th>
          <th>Time</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <!-- (only visible for admin users) -->
    <div id="admin-panel" style="display: none; margin-top: 24px">
      <h2>Admin Panel</h2>
      <div>
        <h3>Create New Puzzle</h3>
        <p>
          Paste a Sokoban layout (7x7 for current game), using characters: #
          walls, . floor, P player, B box, T target. One row per line.
        </p>
        <textarea
          id="puzzleLayout"
          rows="8"
          cols="40"
          placeholder="#######\n#.....#\n#.P.BT#\n#.....#\n#..B..#\n#..T..#\n#######"
        ></textarea>
        <div>
          <button class="btn" onclick="createPuzzle()">Create Puzzle</button>
        </div>
        <button class="btn" onclick="window.location.href='/admin-game.html'">
          Test Latest Puzzle
        </button>
      </div>
    </div>

    <a href="sokoban.html" class="btn">Play Original Game</a>
    <a href="admin-game.html" class="btn">Play Latest Puzzle</a>
    <script src="app.js"></script>
  </body>
</html>
